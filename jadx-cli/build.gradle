plugins {
	id 'application'
}

dependencies {
	compile(project(':jadx-core'))
	compile 'com.beust:jcommander:1.78'
	compile 'ch.qos.logback:logback-classic:1.2.3'
}

application {
	applicationName = 'jadx'
	mainClassName = 'jadx.cli.JadxCLI'
	applicationDefaultJvmArgs = ['-Xms128M', '-Xmx4g', '-XX:+UseG1GC']
}

applicationDistribution.with {
	into('') {
		from '../.'
		include 'README.md'
		include 'NOTICE'
		include 'LICENSE'
	}
}

mainClassName = "jadx.cli.JadxCLI"

jar {
  manifest { 
    attributes "Main-Class": "$mainClassName"
  }  

  from {
    configurations.runtimeClasspath.collect { it.isDirectory() ? it : zipTree(it) }
  }
}